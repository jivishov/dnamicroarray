<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual DNA Microarray Lab: Lung Cancer Study</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Virtual DNA Microarray Lab: Lung Cancer Study</h1>
    <p>Scenario: Analyzing gene expression in lung cancer patients (Patient 1: Grandpa Joe).</p>

    <div id="lab-bench">
        <!-- COLUMN 1: Instructions -->
        <div id="instructions-column">
            <div id="instructions">
                <h2>Instructions:</h2>
                <p id="instruction-text">Welcome! Click 'Start Experiment' to begin.</p>
                <button id="start-button">Start Experiment</button>
                <button id="skip-button" style="background-color: #ffcc00; margin-top: 10px;">TEMP: Skip to Analysis</button>
                <div id="progress-checklist">
                     <h4>Steps Checklist:</h4>
                     <ul>
                        <li id="step-orient">Orient Card & Plate</li>
                        <li id="step-eb">Apply Equilibration Buffer (EB)</li>
                        <li id="step-dry1">Dry Card (Post-EB)</li>
                        <li id="step-mix-spot">Mix Control cDNA & Spot Samples</li>
                        <li id="step-dry2">Dry Card (Post-Sample)</li>
                        <li id="step-hb">Apply Hybridization Buffer (HB)</li>
                        <li id="step-dry3">Dry Card (Post-HB)</li>
                        <li id="step-visualize">Visualize with UV Light</li>
                        <li id="step-analyze">Analyze Results</li>
                     </ul>
                </div>
            </div>
        </div>

        <!-- COLUMN 2: Tools & Reagents -->
        <div id="tools-reagents-column">
            <div id="tools">
                <h2>Tools</h2>
                <div id="pipette-area">
                    <div id="pipette">
                        Pipette (<span id="pipette-volume">5</span> µL)
                        <div id="pipette-tip" class="empty"></div>
                        <div id="pipette-liquid" class="empty"></div>
                    </div>
                </div>
                 <button class="tool-button" id="tip-box-button" disabled>Get New Tip</button>
                 <button class="tool-button" id="waste-bin-button" disabled>Discard Tip</button>
                 <button class="tool-button" id="incubator-button" disabled>Incubate (Dry)</button>
                 <button class="tool-button" id="uv-light-button" disabled>Toggle UV Light</button>
            </div>
             <div id="reagents">
                 <h2>Reagents</h2>
                 <button class="reagent-button" id="eb-button" disabled>Equilibration Buffer (EB)</button>
                 <button class="reagent-button" id="cdna-button" disabled>Control cDNA (Green)</button>
                 <button class="reagent-button" id="hb-button" disabled>Hybridization Buffer (HB)</button>
             </div>
        </div>

        <!-- COLUMN 3: Right Panel (Microarray & Plate) -->
        <div id="right-panel">
            <div id="microarray-station">
                <h2>Microarray Card with Spots</h2>
                 <div class="card-labels">
                     <span></span> <!-- Spacer -->
                     <span>1<br>Normal</span>
                     <span>2<br>Up</span>
                     <span>3<br>Down</span>
                     <span>4<br>Blank</span>
                     <span>5<br>Gene 1<br>(CEACAM6)</span>
                     <span>6<br>Gene 2<br>(SFTPB)</span>
                     <span>7<br>Gene 3<br>(TP53)</span>
                     <span>8<br>Gene 4<br>(SRY)</span>
                     <span>9<br>Gene 5<br>(CYP1A1)</span>
                 </div>
                <div id="microarray-card">
                     <!-- Spots will be generated by JS -->
                </div>
            </div>
            <div id="quickstrip-station">
                <h2>QuickStrip™ Plate with Wells (Patient Samples)</h2>
                <div id="quickstrip-plate">
                    <!-- Wells will be generated by JS -->
                </div>
            </div>
            <!-- Analysis moved inside right panel if preferred, or keep outside lab-bench -->
        </div>
    </div>
    <div id="analysis-section" class="hidden">
        <h2>Analysis</h2>
        <p>Record the results based on the spot colors observed on the Microarray Card.</p>
        <!-- *** ADD THIS PARAGRAPH *** -->
        <p>
            Enter the following into the table below: <br>
            <b>'u'</b> or <b>'↑'</b> for <span style="color: red; font-weight:bold;">Red</span> (Up-regulated/Increased)<br>
            <b>'d'</b> or <b>'↓'</b> for <span style="color: green; font-weight:bold;">Green</span> (Down-regulated/Decreased)<br>
            <b>'n'</b> or <b>'='</b> for <span style="color: #cccc00; background-color: #555; padding: 0 2px; font-weight:bold;">Yellow</span> (Normal/Same)<br>
            <b>'-'</b> or <b>'b'</b> for <span style="color: white; background-color: black; padding: 0 2px; font-weight:bold;">Black</span> (None/Blank)<br>
            (Leaving a box empty is also treated as 'None' for black spots).
        </p>
        <!-- *** END ADDED PARAGRAPH *** -->
        <table id="results-table">
            <thead>
                <tr>
                    <th>Patient</th>
                    <th>1 (Normal)</th>
                    <th>2 (Up)</th>
                    <th>3 (Down)</th>
                    <th>4 (Blank)</th>
                    <th>5 (Gene 1)</th>
                    <th>6 (Gene 2)</th>
                    <th>7 (Gene 3)</th>
                    <th>8 (Gene 4)</th>
                    <th>9 (Gene 5)</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows for patients 1-4 will be added here by JS -->
            </tbody>
        </table>
        <!-- *** WRAP BUTTONS and ADD ERASE BUTTON *** -->
        <div class="analysis-buttons">
        <button id="check-results-button">Check My Results</button>
        <button id="erase-table-button" style="margin-left: 10px;">Erase Table</button>
        </div>
    <!-- *** END BUTTON WRAPPER *** -->
        <p id="results-feedback"></p>
    </div>
    <script src="script.js"></script>
</body>
</html>